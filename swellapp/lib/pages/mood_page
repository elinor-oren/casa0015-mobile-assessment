import 'package:flutter/material.dart';

//Creates the mood slider page
class MoodSlider extends StatefulWidget {
  @override
  _MoodSliderState createState() => _MoodSliderState();
}

class _MoodSliderState extends State<MoodSlider> {
  double _sliderValue = 0; //creates slider variable
  Color _barColor = Colors.blue;
  Color _sliderColor = Colors.blue;
  String _barText = "";

  void _updateSliderState(double value) {
    setState(() {
      _sliderValue = value;
      if (value >= 0 && value <= 1) {
        _sliderColor = Colors.red;
        _barColor = Colors.red;
        _barText = "severely depressed";
      } else if (value >= 2 && value <= 3) {
        _sliderColor = Colors.orange;
        _barColor = Colors.orange;
        _barText = "mm mm dd.";
      } else if (value >= 4 && value <= 6) {
        _sliderColor = Colors.blue;
        _barColor = Colors.blue;
        _barText = "stable.";
      } else if (value >= 7 && value <= 8) {
        _sliderColor = Colors.orange;
        _barColor = Colors.orange;
        _barText = "hypm.";
      } else if (value >= 9 && value <= 10) {
        _sliderColor = Colors.red;
        _barColor = Colors.red;
        _barText = "ss hh.";
      }
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Mood Today'),
      ),
      body: Column(
        children: [
          Container(
            padding: EdgeInsets.all(20),
            color: _barColor,
            child: Text(
              _barText,
              style: TextStyle(fontSize: 18, color: Colors.white),
            ),
          ),
          Slider(
            value: _sliderValue,
            min: 0, //lowest mood state
            max: 10, //maximum mood state
            divisions: 10, //10 discrete steps
            label: _sliderValue.toString(), //little flag comes up from the bar
            onChanged: (newValue) {
              _updateSliderState(newValue);
            },
            activeColor: _sliderColor,
          ),
          Expanded(
            child: Center(
              child: Text(
                '${_sliderValue.round()}${_MoodBarText()}',
                style: TextStyle(fontSize: 24),
              ),
            ),
          ),
        ],
      ),
    );
  }

  String _MoodBarText() {
    switch (_sliderValue.toInt()) {
      case 0:
        return "Recurring suicidal thoughts, no way out, no movement, everything is bleak and it will always be like this";
      case 1:
        return "Feelings of hopelessness and guilt, thoughts of suicide, little movement, impossible to do anything";
      case 2:
        return "Slow thinking, no appetite, need to be alone, sleep excessive or difficult, everything a struggle";
      case 3:
        return "Feelings of panic and anxiety, concentration difficult and memory poor, some comfort in routine";
      case 4:
        return "Slight withdrawal from social situations, concentration less than usual, slight agitation";
      case 5:
        return "Mood in balance, no symptoms of depression or mania";
      case 6:
        return "Self-esteem good, optimistic, sociable, and articulate, good decisions, need less sleep and get work done";
      case 7:
        return "Very productive, everything to excess (phone calls, writing, smoking, tea), charming and talkative";
      case 8:
        return "Inflated self-esteem, rapid thoughts and speech, counter-productive simultaneous tasks";
      case 9:
        return "Lost touch with reality, incoherent, no sleep, paranoid and vindictive, reckless behaviour";
      case 10:
        return "Total loss of judgement, exorbitant spending, religious delusions and hallucinations";
      default:
        return "";
    }
  }
}
